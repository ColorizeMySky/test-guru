<%= form_with model: [:admin, @badge],
              namespace: :admin,
              local: true,
              class: "needs-validation",
              novalidate: true do |f| %>
  <% if @badge.errors.any? %>
    <div class="alert alert-danger">
      <ul>
        <% @badge.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= f.label :name, "Название", class: "form-label" %>
    <%= f.text_field :name, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= f.label :image, "Имя файла с изображением", class: "form-label" %>
    <%= f.text_field :image, class: "form-control", placeholder: "badges/awesome.png", required: true %>
  </div>

  <div class="mb-3">
    <%= f.label :rule_type, "Тип правила", class: "form-label" %>
    <%= f.select :rule_type,
      options_for_select([
        ['passed_on_registration_day', 'За прохождение в день регистрации'],
        ['test_name_contains_awesome', 'За прохождение теста с "awesome" в названии'],
        ['same_score_as_user_id', 'За счёт, равный ID пользователя'],
        ['test_passed_on_friday_13th', 'За прохождение в пятницу, 13-е'],
        ['completed_test_during_eclipse', 'За прохождение во время затмения'],
        ['scored_prime_number_of_points', 'За простое число баллов'],
        ['answered_all_questions_wrong', 'За 0 правильных ответов']
      ], selected: @badge.rule_type),
      { prompt: "Выберите правило" },
      { class: "form-select", required: true }
    %>
  </div>

  <div class="mb-3">
    <%= f.label :value, "Значение (если требуется)", class: "form-label" %>
    <%= f.text_field :value, class: "form-control", placeholder: "напр. категория или уровень" %>
  </div>

  <div class="d-flex gap-2">
    <%= f.submit 'Сохранить', class: "btn btn-success" %>
    <%= link_to 'Отмена', admin_badges_path, class: "btn btn-secondary" %>
  </div>
<% end %>
